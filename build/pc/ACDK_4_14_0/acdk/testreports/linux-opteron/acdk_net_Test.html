<html><body>
<h1>Unit Test 2004-03-20T09:23:52</h1>
<a href="index.html">Back to Index</a><br>
<table border=0 width="100%"><tr><td bgcolor="green">TEST OK</td></tr></table>
Tests: 6; Failures: 0; Errors: 0<br>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#TransReaderWriter_Test.standard">TransReaderWriter_Test.standard</a> <br>
</td></tr></table>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#URL_Test.http">URL_Test.http</a> <br>
</td></tr></table>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#URL_Test.file">URL_Test.file</a> <br>
</td></tr></table>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#URL_Test.inet">URL_Test.inet</a> <br>
</td></tr></table>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#URL_Test.ftp">URL_Test.ftp</a> <br>
</td></tr></table>
<table border=0 width="100%"><tr><td bgcolor="ltgreen"> <a href="#SendReceive_Test.standard">SendReceive_Test.standard</a> <br>
</td></tr></table>
<h2><a id="TransReaderWriter_Test.standard">TransReaderWriter_Test.standard</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 7  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:STRT][TransReaderWriter_Test.standard] Start Test
[AUNIT:STRT] Start Test: TransReaderWriter_Test.standard
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(80): array->equals(RbyteArray(&target)) == true
5120.000000
5120.000000
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(80): array->equals(RbyteArray(&target)) == true
5120.000000
5120.000000
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(91): array->equals(mem.getBuffer()) == true
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(91): array->equals(mem.getBuffer()) == true
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(91): array->equals(mem.getBuffer()) == true
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(80): array->equals(RbyteArray(&target)) == true
[AUNIT:SUCC]: TransReaderWriter_Test.standard:
acdk_net_TransReaderWriter_Test.cpp(80): array->equals(RbyteArray(&target)) == true
</pre>
<h2><a id="URL_Test.http">URL_Test.http</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 1  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:ENDT][TransReaderWriter_Test.standard] End Test
[AUNIT:ENDT] End Test: TransReaderWriter_Test.standard
[AUNIT:STRT][URL_Test.http] Start Test
[AUNIT:STRT] Start Test: URL_Test.http
Test URL=[http://acdk.sourceforge.net:80/]
[AUNIT:SUCC]: URL_Test.http:
acdk_net_URL_Test.cpp(63): url->getProtocol()->equals(protocol) == true
acdk.sourceforge.net == acdk.sourceforge.net
Cannot reach URL: http://acdk.sourceforge.net:80/ reason: Server header lines were unparseable: 

</pre>
<h2><a id="URL_Test.file">URL_Test.file</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 2  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:ENDT][URL_Test.http] End Test
[AUNIT:ENDT] End Test: URL_Test.http
[AUNIT:STRT][URL_Test.file] Start Test
[AUNIT:STRT] Start Test: URL_Test.file
[AUNIT:SUCC]: URL_Test.file:
acdk_net_URL_Test.cpp(85): Environmnet variable ACDKHOME has to be set
Test URL=[file:///home/users/k/ko/kommer/acdk/bin/install.sh]
[AUNIT:SUCC]: URL_Test.file:
acdk_net_URL_Test.cpp(63): url->getProtocol()->equals(protocol) == true
/home/users/k/ko/kommer/acdk/bin/install.sh == 

#
# installation script for ACDK
# 
# install.sh -d installdir | sourcefile destdir
#


create_dir=0
dirname=
source=
target=
#echo "PWD: $PWD"
#echo `ls -l`
#echo "pwd: `pwd`"
#PWD=`pwd`

while test x"$1" != x; do
    case $1 in
    -acdk-home) shift
        ACDKHOME=$1
        shift
        continue
        ;;
     -web-home) shift
        WEBHOME=$1
        shift
        continue
        ;;
      -package-name) shift
        PACKAGENAME=$1
        shift
        continue
        ;;
     -pwd) shift
	PWD=$1
	shift
	continue
	;;
     *) source=$1
        shift
        target=$1
        shift
        continue
        ;;
    esac
done

if test z"$ACDKHOME" = z; then
    echo "ACDKHOME is not defined."
    echo "abort installation!"
    exit 1
fi

ensuredir() {
    dirname="$1"
    #echo "ensuredir: $dirname"
    if test x"$dirname" != x; then
        if test -d $dirname; then
            return 0
        fi;
        defaultIFS='
        '
        IFS="${IFS-${defaultIFS}}"
        oIFS="${IFS}"
        IFS='%'
        set - `echo $dirname | sed -e 's@/@%@g' -e 's@^%@/@'`
        IFS="${oIFS}"
        pathcomp=''
        while test $# -ne 0; do
            pathcomp="${pathcomp}${1}"
            #echo $pathcomp
            shift
            if test ! -d "${pathcomp}"; then
                echo "mkdir ${pathcomp}"
                mkdir "${pathcomp}"
            fi
            pathcomp="${pathcomp}/"
        done
    fi
}

mydirname() {
    echo `echo $1 | sed -e 's,[^/]*$,,;s,/$,,;s,^$,.,'`
}

mybasename() {
    pn=$1
    basename "$1"
}

mycp() {
    source=$1
    target=$2
    if test z"$BASH" != z; then
	    if test ! -f "$target" -o "$source" -nt "$target"; then
	      echo "mcp $source $target"
	      cp "$source" "$target"
	    fi
    else
	    echo "cp $source $target"
	    cp "$source" "$target"
    fi
}

installsources() {
    ACDKHOME=$1
    #set -x
    #echo $PWD
    cd $PWD
    if test ! -d src; then
	    echo `ls -l`
	    echo `ls -l src`
      return 0
    fi
    cd src
    for f in `find . -name '*.h'` `find . -name '*.cpp'`; do
        spath=`mydirname $f`;
        fname=
        #echo "spath = $spath"
        ensuredir $ACDKHOME/include/$spath
        mycp $f $ACDKHOME/include/$spath/`mybasename $f`
    done
    cd ..
    if test -d tests; then
      cd tests
      for f in `find . -name '*.h'` `find . -name '*.cpp'`; do
        spath=`mydirname $f`;
        fname=
        #echo "spath = $spath"
        ensuredir $ACDKHOME/include/tests/$spath
        mycp $f $ACDKHOME/include/tests/$spath/`mybasename $f`
      done
      cd ..
    else
      echo "test doesn't exists"
    fi
}

installcfgs() {
    ACDKHOME=$1
    echo "installcfgs"
    if test ! -d cfg; then
	echo "target has no cfg"
        return 0
    fi
    cd cfg
    # doesnot work for solaris for f in `find . -type f \! -path '*/CVS/*'`; do \
    for f in `find . -type f`; do
	if echo $f | awk '{ if ($1 ~ /\/CVS\//) exit 1; else exit 0; }'; then
	    spath=`mydirname $f`;
	    ensuredir $ACDKHOME/cfg/$spath
	    mycp $f $ACDKHOME/cfg/$spath/`mybasename $f`
	fi
    done
    cd ..
}

installclasses() {
    ACDKHOME=$1
    cd src
    for f in `find . -name '*.class'`; do \
        spath=`mydirname $f`;
        ensuredir $ACDKHOME/bin/$spath
        mycp $f $ACDKHOME/bin/$spath/`mybasename $f`
    done
    cd ..
}

installbin () {
  ACDKHOME=$1
  if test ! -d bin; then
    return 0
  fi
  cd bin
  for f in `find . -type f`; do \
    spath=`mydirname $f`;
    ensuredir $ACDKHOME/bin/$spath
    mycp $f $ACDKHOME/bin/$spath/`mybasename $f`
  done
  cd ..
}

installdocs() {
    WEBHOME=$1
    PACKAGENAME=$2
    
    if test z"$WEBHOME" = "z"; then
        return 0
    fi
    echo "install docs into $WEBHOME / $PACKAGENAME"
    if test ! -d "$WEBHOME"; then 
        echo "$WEBHOME does not exists"
        return 0
    fi
    ensuredir $WEBHOME/$PACKAGENAME
    
    for f in `find docs -type f -name '*.xml'` `find docs -type f -name '*.htxt'`; do 
        spath=`mydirname $f`
        ensuredir $WEBHOME/$PACKAGENAME/$spath
        mycp $f $WEBHOME/$PACKAGENAME/$spath/`mybasename $f`
    done
}

#echo "ACDKHOME = $ACDKHOME"
installsources "$ACDKHOME"
installcfgs "$ACDKHOME"
installbin "$ACDKHOME"
installclasses "$ACDKHOME"
installdocs "$WEBHOME" "$PACKAGENAME"
</pre>
<h2><a id="URL_Test.inet">URL_Test.inet</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 11  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:ENDT][URL_Test.file] End Test
[AUNIT:ENDT] End Test: URL_Test.file
[AUNIT:STRT][URL_Test.inet] Start Test
[AUNIT:STRT] Start Test: URL_Test.inet
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(99): url.getProtocol()->equals("inet") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(100): url.getHost()->equals("localhost") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(101): url.getPort() == 8888
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(105): url.getProtocol()->equals("http") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(106): url.getHost()->equals("acdk.sourceforge.net") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(107): url.getUser()->equals("auser") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(111): url.getProtocol()->equals("http") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(112): url.getHost()->equals("acdk.sourceforge.net") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(113): url.getPort() == 80
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(114): url.getUser()->equals("auser") == true
[AUNIT:SUCC]: URL_Test.inet:
acdk_net_URL_Test.cpp(115): url.getPassword()->equals("apass") == true
</pre>
<h2><a id="URL_Test.ftp">URL_Test.ftp</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 0  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:ENDT][URL_Test.inet] End Test
[AUNIT:ENDT] End Test: URL_Test.inet
[AUNIT:STRT][URL_Test.ftp] Start Test
[AUNIT:STRT] Start Test: URL_Test.ftp
</pre>
<h2><a id="SendReceive_Test.standard">SendReceive_Test.standard</a></h2>
<table border=0 width="100%"><tr><td bgcolor="green">Test OK with 0  Test Expressions</td></tr></table>
<br>Error output:<hr><pre>[AUNIT:ENDT][URL_Test.ftp] End Test
[AUNIT:ENDT] End Test: URL_Test.ftp
[AUNIT:STRT][SendReceive_Test.standard] Start Test
[AUNIT:STRT] Start Test: SendReceive_Test.standard
client: readed OK: 21
client: readed OK: 21
client: readed OK: 1
client: readed OK: 1
client: readed OK: 50000
client: readed OK: 50000
</pre>
</body></html>
