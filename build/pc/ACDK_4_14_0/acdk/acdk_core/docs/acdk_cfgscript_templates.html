<head>
<meta name="generator" content="GenWeb 1.0">

<meta name="keywords" content="template, JSP">
<title>The CfgScript Templates</title>
<link rel="stylesheet" type="text/css" href="./../../docs\images/artefaktur_moweb.css">

</head>
<body bgColor="#ffffff">
<table with="100%" style="background-color:#F0F0F0;border-width:1px;border-style:solid;border-color:black;padding:3mm;text-align:justify"> <!-- border="2" cellspacing="0" > -->
<tr width="100%">
  <td width="200" valign="top" style="border-right-width:3px;border-right-style:solid;border-right-color:black">
<p class="navleiste" align="right">
<img src="./../../docs\images/arrow_nw.gif" alt="down">&nbsp;<a  href="../../index.html">ACDK</a><br>
<img src="./../../docs\images/arrow_nw.gif" alt="down">&nbsp;<a  href="../../docs/packages.html">Packages</a><br>
<img src="./../../docs\images/arrow_nw.gif" alt="down">&nbsp;<a  href="../index.html">ACDK Core</a><br>
<img src="./../../docs\images/arrow_nw.gif" alt="down">&nbsp;<a  href="acdk_cfgscript_man.html">man acdk_cfgscript</a><br>
<img src="./../../docs\images/arrow_nw.gif" alt="down">&nbsp;<a  href="acdk_cfgscript_hb.html">CfgScript Handbook</a><br>
<img src="./../../docs\images/arrow_right_stop.gif" alt="down">&nbsp;Templates<br>See also:<br>&nbsp;&nbsp;<img src="./../../docs\images/arrow_se.gif" alt="down">&nbsp;<a  href="acdk_cfgscript_hb_lang_expr_backtick.html">Backtick Expressions</a>

</p>
</td>
<td height="100%" width="600" valign="top" >
<table width="100%" height="100%" valign="bottom" style="background-color:#F0F0F0;border-rigth-width:3px;border-rigth-style:solid;border-rigth-color:black;padding:1mm">
  <tr>
    <td style="height:40px">
<center><p class="curchapterline"> | <a  href="acdk_cfgscript_hb_intro.html">Introduction</a> | <a  href="acdk_cfgscript_hb_start.html">Start</a> | <a  href="acdk_cfgscript_interpreter.html">acdkcfgscript</a> | <a  href="acdk_cfgscript_hb_lang.html">Language</a> | <a  href="acdk_cfgscript_hb_lib.html">Library</a> | <a  href="acdk_cfgscript_embedd.html">Embedding</a> | <a  href="acdk_cfgscript_hb_ide.html">CfgScript IDE</a> | <a  href="acdk_cfgscript_hb_debug.html">Debugging</a> | Templates | <a  href="acdk_cfgscript_samples.html">Samples</a> | <a  href="acdk_cfgscript_hb_wishlist.html">Wish List</a> |</p></center>
    </td>
  </tr>
  <tr valign="bottom" style="vertical-align:bottom">
    <td style="background-color:#FFFFFF;border-top-style:solid;border-top-color:black;border-top-width:3px;padding-left:3mm;vertical-align=bottom">
<h1>The CfgScript Templates</h1>
    </td>
  </tr>
</table>
</td>
<td valign="top">
<table height="100%" width="100%" style="border-left-style:solid;border-left-color:black;border-left-width:3px">
  <tr >
    <td valign="bottom" 
        style="vertical-align:bottom;height:40px;FONT-SIZE:22pt;font-WEIGHT=bold;letter-spacing:4pt;TEXT-ALIGN:center">
      <a href="http://acdk.sourceforge.net">ACDK</a>
    </td>
  </tr>
  <tr>
    <td valign="top" 
        style="vertical-align:top;font-size=12pt;text-align:center;border-top-style:solid;border-top-color:black;border-top-width:3px;">
        <a href="http://www.artefaktur.com">Artefaktur</a> Component<br>Development Kit
    </td>
  </tr>
</table>
</td>
</tr>
</table>
<hr>    
<!-- <h1>The CfgScript Templates</h1> -->
<p class="curchapterline"> | <a  href="acdk_cfgscript_hb_intro.html">Introduction</a> | <a  href="acdk_cfgscript_hb_start.html">Start</a> | <a  href="acdk_cfgscript_interpreter.html">acdkcfgscript</a> | <a  href="acdk_cfgscript_hb_lang.html">Language</a> | <a  href="acdk_cfgscript_hb_lib.html">Library</a> | <a  href="acdk_cfgscript_embedd.html">Embedding</a> | <a  href="acdk_cfgscript_hb_ide.html">CfgScript IDE</a> | <a  href="acdk_cfgscript_hb_debug.html">Debugging</a> | Templates | <a  href="acdk_cfgscript_samples.html">Samples</a> | <a  href="acdk_cfgscript_hb_wishlist.html">Wish List</a> |</p>
<p class="PageIntro">
CfgScript provides a template language, quite similar to JSP.
</p>

<br>
<a name="jumptable48"></a><table class="jumptableframe" width="100%"><tr><td><p><i><small>Content of this chapter:</small></i><br><br>&nbsp;&nbsp;<a class="jumptable1"  style="border-style:none" href="#Introduction"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;Introduction</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="jumptable2"  style="border-style:none" href="#Merge strings literals with variables"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;Merge strings literals with variables</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="jumptable2"  style="border-style:none" href="#Using backtick string evaluation"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;Using backtick string evaluation</a><br>
&nbsp;&nbsp;<a class="jumptable1"  style="border-style:none" href="#CfgScript Templates"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;CfgScript Templates</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="jumptable2"  style="border-style:none" href="#Sample"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;Sample</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="jumptable2"  style="border-style:none" href="#More details"><img border="0" src="./../../docs\images/arrow_down_stop.gif">&nbsp;More details</a><br>
</p></td></tr></table><!-- jumptableframe -->
<br>
<br>
<h2><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="Introduction">Introduction</a></h2>
In scripting language often text files are build
with static parts (which are not changed) and dynamic parts.<br>
<br>
In CfgScript are multiple options to merge this static and
dynamic parts.<br>
<br>
<h3><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="Merge strings literals with variables">Merge strings literals with variables</a></h3>
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

String head = <B><FONT COLOR="#BC8F8F">&quot;&lt;html&gt;&lt;header&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/header&gt;&lt;body&gt;&quot;</FONT></B>;
String footer = <B><FONT COLOR="#BC8F8F">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</FONT></B>;
StringArray hellos = [ <B><FONT COLOR="#BC8F8F">&quot;First&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Second&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Third&quot;</FONT></B> ];
StringBuffer sb = <B><FONT COLOR="#A020F0">new</FONT></B> StringBuffer();
sb.append(head);
sb.append(<B><FONT COLOR="#BC8F8F">&quot;&lt;table&gt;&quot;</FONT></B>);
<B><FONT COLOR="#0000FF">foreach</FONT></B> (String s in hellos)
{
  sb.append(<B><FONT COLOR="#BC8F8F">&quot;&lt;tr&gt;&lt;td&gt;&quot;</FONT></B>).append(s).append(<B><FONT COLOR="#BC8F8F">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</FONT></B>);
}
sb.append(<B><FONT COLOR="#BC8F8F">&quot;&lt;/table&gt;&quot;</FONT></B>);
sb.append(footer);
out.println(sb.toString());
</PRE></td></tr></table>
This results in:<br>
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

&lt;html&gt;&lt;header&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/header&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;First&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Second&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Third&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;
</PRE></td></tr></table>
Of course this is very simple example. In normal cases the static part of the text is much more complex:<br>
<br>
<h3><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="Using backtick string evaluation">Using backtick string evaluation</a></h3>
A second posibility is to use <a  href="acdk_cfgscript_hb_lang_expr_backtick.html"><img border="0" src="./../../docs\images/url_rhtm.gif" alt="">&nbsp;Backtick Expressions</a>. 
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

StringArray hellos = [ <B><FONT COLOR="#BC8F8F">&quot;First&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Second&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Third&quot;</FONT></B> ];
String s =
`<B><FONT COLOR="#BC8F8F">&quot;&lt;html&gt;
  &lt;header&gt;
    &lt;title&gt;Hello&lt;/title&gt;
  &lt;/header&gt;
  &lt;body&gt;
    &lt;table&gt;
  !{ foreach (String s in hellos) out.println(\&quot;&lt;tr&gt;&lt;td&gt;\&quot; + s \&quot;&lt;/td&gt;&lt;/tr&gt;\&quot;); }!
  &lt;/table&gt;
 &lt;/body&gt;
&lt;/html&gt;&quot;</FONT></B>`;
out.println(s);
</PRE></td></tr></table>
Output:<br>
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

&lt;html&gt;&lt;header&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/header&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;First&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Second&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Third&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;
&lt;html&gt;
  &lt;header&gt;
    &lt;title&gt;Hello&lt;/title&gt;
  &lt;/header&gt;
  &lt;body&gt;
    &lt;table&gt;
  &lt;tr&gt;&lt;td&gt;First&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Second&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Third&lt;/td&gt;&lt;/tr&gt;

  &lt;/table&gt;
 &lt;/body&gt;
&lt;/html&gt;
</PRE></td></tr></table>
<br>
But for more complex cases this is not always available. Quoting inside the loop is quite complex.<br>
<br>
<h2><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="CfgScript Templates">CfgScript Templates</a></h2>
<br>
CfgScript Templates are textfiles, in which CfgScript code can be embedded.<br>
<br>
<h3><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="Sample">Sample</a></h3>
<br>
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

&lt;html&gt;
&lt;header&gt;
  &lt;title&gt;Hello 3&lt;/title&gt;
&lt;/header&gt;
&lt;body&gt; 
&lt;table&gt;
&lt;@ foreach (String s in sa) { 
@&gt;  &lt;tr&gt;&lt;td&gt;&lt;@= s @&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;@  } @&gt;&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;

</PRE></td></tr></table>
<br>
To evalute this such a template you can use following code (CfgScript or C++):<br>
<br>
<table BGCOLOR="#F0F0F0" width="100%"><tr><td>
<PRE>

<I><FONT COLOR="#B22222">// get name of current script, get parent directory
</FONT></I>File dir = (<B><FONT COLOR="#A020F0">new</FONT></B> File(__script.getFileName())).getParentFile();
<I><FONT COLOR="#B22222">// look for all files ends with .cst in this directory
</FONT></I><B><FONT COLOR="#0000FF">foreach</FONT></B> (File f in dir.listFiles(<B><FONT COLOR="#A020F0">new</FONT></B> GlobFilenameFilter(<B><FONT COLOR="#BC8F8F">&quot;*.cst&quot;</FONT></B>)))
{
  <I><FONT COLOR="#B22222">// create a new script instance
</FONT></I>  Script s = <B><FONT COLOR="#A020F0">new</FONT></B> Script(f.getPath());
  <I><FONT COLOR="#B22222">// execute template.
</FONT></I>  
  <I><FONT COLOR="#B22222">/*
    Because in __props (which represends all variables the current scope)
    out is defined, the template writes to out.
  */</FONT></I>
  StringArray sa = [ <B><FONT COLOR="#BC8F8F">&quot;First&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Second&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Third&quot;</FONT></B> ];
  s.evalTemplate(f, __props);
}
</PRE></td></tr></table>
<br>
<h3><a href="#jumptable48"><img border="0" src="./../../docs\images/arrow_up_stop.gif">&nbsp;</a><a class="jumptarget" name="More details">More details</a></h3>
<br>
The Script::evalTemplate() function read the given file
and write it to the writer defined in the variable <code>out</code> of the 
given Props.<br>
<br>
The regions marked with <code>&lt;% %&gt;</code> will be evaluated as Script Code.<br>
The variables defined in Props given to evalTemplate are also available in this
Script Code. 
All text written to <code>out</code> in these section also written to out.<br>
<br>
There is no limitation in CfgScript code in the <code>&lt;% %&gt;</code> section.<br>
It can also contains includes, class definitions, etc.<br>
<br>
The regions marked with <code>&lt;%= %&gt;</code> will be evaluated as CfgScript expression.<br>
To the result of the expession <code>toString()</code> will applied and written to <code>out</code>
<br>
The regions marked with <code>&lt;!= %&gt;</code> are comments and will not appear in the output.<br>
<br>
As shown in the sample the CfgScript loops can also contains template text. It will be 
written to <code>out</code> every time the loop will be executed.<br>
<br>

<hr>
<table width="100%" class="subchaptersframe">
<tr><td>
<center><p class="curchapterline"> | <a  href="acdk_cfgscript_hb_intro.html">Introduction</a> | <a  href="acdk_cfgscript_hb_start.html">Start</a> | <a  href="acdk_cfgscript_interpreter.html">acdkcfgscript</a> | <a  href="acdk_cfgscript_hb_lang.html">Language</a> | <a  href="acdk_cfgscript_hb_lib.html">Library</a> | <a  href="acdk_cfgscript_embedd.html">Embedding</a> | <a  href="acdk_cfgscript_hb_ide.html">CfgScript IDE</a> | <a  href="acdk_cfgscript_hb_debug.html">Debugging</a> | Templates | <a  href="acdk_cfgscript_samples.html">Samples</a> | <a  href="acdk_cfgscript_hb_wishlist.html">Wish List</a> |</p></center>
</td></tr></table>
</body>
</html>


